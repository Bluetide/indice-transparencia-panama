{% extends 'lista_candidatos_base.html' %}
{% load staticfiles %}
{% load bootstrap4 %}
{% block container %}

<div class="container-fluid bgimage2">
   {% block contenido_head %}
   <p id="filtro-titulo">Índice de Transparencia de parlamentarios</p>
   <form method="get" class="filter_form">
      <div class="form-row">
         <div class="label_filter_ranking" id="filter_button">
            Filtrar diputados actuales
            {% bootstrap_field filter.form.is_deputy show_label=False %}
         </div>
         <div class="label_filter_ranking">
            Filtrar por circuito
            {% bootstrap_field filter.form.circuit show_label=False %}
         </div>
         <div class="label_filter_ranking">
            Filtrar por partido o movimiento
            {% bootstrap_field filter.form.party show_label=False %}
         </div>
         <div class="label_filter_ranking">
            Ordenar por puntaje
            {% bootstrap_field filter.form.ordering show_label=False %}
         </div>
      </div>
</div>
</form>
</div>
<!-- Nati querida, pensé en dejarte una clase, esta ahora no tienen nada
   pero pensé que podrías querer ponerle alguna cosa como esta para que se vea ordenado. Esto hace que todos los labels se vean a la misma altura.-->
<!--<button type="submit" class="btn btn-primary" id="filter_button">-->
<!--  <span class="glyphicon glyphicon-search"></span> Search-->
<!--</button>-->

{% endblock contenido_head %}
{% include 'includes/lista_candidatos.html' with persons=persons %}
{% endblock container %}
{% block extra_end_js %}
<script type="text/javascript" >
   $(document).ready(function() {
       $(".filter_form :input").each(
           function(index){
               var input = $(this);
               var id = input.attr('id')
               $("#"+id).addClass("filter_field")
               $("#"+id).on('change', function(event) {
                   event.preventDefault();
                   var input = $(this);
                   $(".filter_form")[0].submit();
               });
           }
       );
   });
</script>
{% endblock extra_end_js %}
